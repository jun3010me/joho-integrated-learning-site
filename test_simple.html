<!DOCTYPE html>
<html>
<head>
    <title>Simple Circuit Test</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="p-8">
    <h1 class="text-2xl font-bold mb-4">Simple Circuit Test</h1>
    
    <canvas id="test-canvas" width="600" height="400" class="border bg-white"></canvas>
    
    <div class="mt-4">
        <button id="draw-test" class="bg-blue-500 text-white px-4 py-2 rounded">
            Draw Test Circuit
        </button>
    </div>
    
    <script>
        document.getElementById('draw-test').addEventListener('click', () => {
            const canvas = document.getElementById('test-canvas');
            const ctx = canvas.getContext('2d');
            
            // Clear canvas
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            ctx.fillStyle = '#fdfdfd';
            ctx.fillRect(0, 0, canvas.width, canvas.height);
            
            // Draw input A
            ctx.beginPath();
            ctx.arc(60, 150, 8, 0, 2 * Math.PI);
            ctx.fillStyle = '#dbeafe';
            ctx.fill();
            ctx.strokeStyle = '#1e40af';
            ctx.stroke();
            ctx.fillStyle = '#1e40af';
            ctx.font = 'bold 16px Arial';
            ctx.textAlign = 'center';
            ctx.textBaseline = 'middle';
            ctx.fillText('A', 30, 150);
            
            // Draw input B
            ctx.beginPath();
            ctx.arc(60, 250, 8, 0, 2 * Math.PI);
            ctx.fillStyle = '#dbeafe';
            ctx.fill();
            ctx.strokeStyle = '#1e40af';
            ctx.stroke();
            ctx.fillText('B', 30, 250);
            
            // Draw XOR gate at (300, 150)
            const xorX = 300, xorY = 150, width = 70, height = 40;
            ctx.fillStyle = '#f3e8ff';
            ctx.strokeStyle = '#7c3aed';
            ctx.lineWidth = 2;
            ctx.beginPath();
            
            const backX = xorX - width / 2;
            ctx.moveTo(backX, xorY - height/2);
            ctx.quadraticCurveTo(xorX, xorY - height/2, xorX + width/2, xorY);
            ctx.quadraticCurveTo(xorX, xorY + height/2, backX, xorY + height/2);
            ctx.quadraticCurveTo(xorX - width/2 * 0.5, xorY, backX, xorY - height/2);
            ctx.closePath();
            ctx.fill();
            ctx.stroke();
            
            // XOR symbol
            ctx.fillStyle = '#7c3aed';
            ctx.font = 'bold 12px Arial';
            ctx.textAlign = 'center';
            ctx.textBaseline = 'middle';
            ctx.fillText('=1', xorX, xorY);
            
            // XOR extra line
            const xorLineX = xorX - width/2 - 5;
            ctx.beginPath();
            ctx.moveTo(xorLineX, xorY - height/2);
            ctx.quadraticCurveTo(xorX - width/2 * 0.5, xorY, xorLineX, xorY + height/2);
            ctx.stroke();
            
            // Draw AND gate at (300, 250)
            const andX = 300, andY = 250;
            ctx.fillStyle = '#dbeafe';
            ctx.strokeStyle = '#1e40af';
            ctx.beginPath();
            ctx.moveTo(andX - width/2, andY - height/2);
            ctx.lineTo(andX, andY - height/2);
            ctx.arc(andX, andY, height/2, -Math.PI/2, Math.PI/2);
            ctx.lineTo(andX - width/2, andY + height/2);
            ctx.closePath();
            ctx.fill();
            ctx.stroke();
            
            // Draw wires
            ctx.strokeStyle = '#374151';
            ctx.lineWidth = 2;
            
            // A to XOR
            ctx.beginPath();
            ctx.moveTo(68, 150);
            ctx.lineTo(140, 150);
            ctx.lineTo(140, 130);
            ctx.lineTo(265, 130);
            ctx.stroke();
            
            // A to AND
            ctx.beginPath();
            ctx.moveTo(140, 150);
            ctx.lineTo(140, 230);
            ctx.lineTo(265, 230);
            ctx.stroke();
            
            // B to XOR
            ctx.beginPath();
            ctx.moveTo(68, 250);
            ctx.lineTo(140, 250);
            ctx.lineTo(140, 170);
            ctx.lineTo(265, 170);
            ctx.stroke();
            
            // B to AND
            ctx.beginPath();
            ctx.moveTo(140, 250);
            ctx.lineTo(265, 250);
            ctx.stroke();
            
            // Branch dots
            ctx.beginPath();
            ctx.arc(140, 150, 4, 0, 2 * Math.PI);
            ctx.fillStyle = '#374151';
            ctx.fill();
            
            ctx.beginPath();
            ctx.arc(140, 250, 4, 0, 2 * Math.PI);
            ctx.fill();
            
            // Output S
            ctx.beginPath();
            ctx.moveTo(335, 150);
            ctx.lineTo(540, 150);
            ctx.stroke();
            
            ctx.beginPath();
            ctx.arc(540, 150, 8, 0, 2 * Math.PI);
            ctx.fillStyle = '#fbbf24';
            ctx.fill();
            ctx.strokeStyle = '#d97706';
            ctx.stroke();
            
            ctx.fillStyle = '#d97706';
            ctx.font = 'bold 16px Arial';
            ctx.textAlign = 'left';
            ctx.fillText('S', 555, 150);
            
            // Output C
            ctx.strokeStyle = '#374151';
            ctx.lineWidth = 2;
            ctx.beginPath();
            ctx.moveTo(335, 250);
            ctx.lineTo(540, 250);
            ctx.stroke();
            
            ctx.beginPath();
            ctx.arc(540, 250, 8, 0, 2 * Math.PI);
            ctx.fillStyle = '#fbbf24';
            ctx.fill();
            ctx.strokeStyle = '#d97706';
            ctx.stroke();
            
            ctx.fillStyle = '#d97706';
            ctx.fillText('C', 555, 250);
            
            console.log('Test circuit drawn successfully!');
        });
    </script>
</body>
</html>